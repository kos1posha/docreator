{% extends 'base_n.html' %}
{% load static %}

{% block title %}–ü—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è {{ admin }}{% endblock %}

{% block extra_scripts %}
  {{ block.super }}
  <script src="{% static 'core/js/profile.js' %}"></script>
{% endblock %}

{% block content %}
  {% if user.is_authenticated %}
    {% with tab=init_tab|default:1 %}
      <div class="d-flex container px-0 px-sm-3 px-lg-5 minh-100">
        <div class="container-fluid px-md-3 px-lg-2 minh-100">
          <div class="row minh-100">
            <div class="col-md-auto fixed-bottom sticky-md-top bg-info-subtle minh-100 minh-md-auto">
              <div class="d-flex flex-md-column flex-row flex-nowrap fixed-bottom sticky-md-top bg-info-subtle">
                <nav class="nav nav-pills nav-underline flex-row flex-nowrap fixed-bottom flex-md-column sticky-md-top bg-info-subtle mx-auto">
                  <a class="flex-fill text-center nav-link bg-white rounded mt-md-5 py-2 py-md-3 my-2 ms-4 mx-md-0{% if tab == 1 %} active{% endif %}" data-bs-placement="right" id="pills-profile-tab" data-bs-toggle="pill" data-bs-target="#pills-profile" type="button" role="tab" aria-controls="pills-profile" aria-selected="true">
                    <span class="text-black fw-semibold px-0 px-md-3">üë§<span class="d-none d-sm-inline d-md-none">–ü—Ä–æ—Ñ–∏–ª—å</span></span>
                  </a>
                  <a class="flex-fill text-center nav-link bg-white rounded mt-md-1 py-2 py-md-3 my-2 mx-md-0{% if tab == 2 %} active{% endif %}" data-bs-placement="right" id="pills-security-tab" data-bs-toggle="pill" data-bs-target="#pills-security" type="button" role="tab" aria-controls="pills-security" aria-selected="true">
                    <span class="text-black fw-semibold px-0 px-md-3">üîí<span class="d-none d-sm-inline d-md-none">–ü–∞—Ä–æ–ª—å</span></span>
                  </a>
                  <a class="flex-fill text-center nav-link bg-white rounded mt-md-1 py-2 py-md-3 my-2 mx-md-0{% if tab == 3 %} active{% endif %}" data-bs-placement="right" id="pills-templates-tab" data-bs-toggle="pill" data-bs-target="#pills-templates" type="button" role="tab" aria-controls="pills-templates" aria-selected="true">
                    <span class="text-black fw-semibold px-0 px-md-3">üóç <span class="d-none d-sm-inline d-md-none">–®–∞–±–ª–æ–Ω—ã</span></span>
                  </a>
                  <a class="flex-fill text-center nav-link bg-white rounded mt-md-1 py-2 py-md-3 my-2 me-4 mx-md-0{% if tab == 4 %} active{% endif %}" data-bs-placement="right" id="pills-instances-tab" data-bs-toggle="pill" data-bs-target="#pills-instances" type="button" role="tab" aria-controls="pills-instances" aria-selected="true">
                    <span class="text-black fw-semibold px-0 px-md-3">üóê <span class="d-none d-sm-inline d-md-none">–≠–∫–∑–µ–º–ø–ª—è—Ä—ã</span></span>
                  </a>
                </nav>
              </div>
            </div>
            <div class="col-md px-0">
              <div class="tab-content" id="pills-tab-content">
                <div class="tab-pane fade py-5 px-4 px-sm-0 px-md-5 mx-0 mx-md-0 mx-lg-4 mx-xl-5{% if tab == 1 %} active show{% endif %}" id="pills-profile" role="tabpanel" aria-labelledby="pills-profile-tab" tabindex="0">
                  <div class="card bg-primary-subtle">
                    <div class="card-header pt-4 pb-4 px-4 px-sm-5">
                      <span class="d-none d-md-inline h3 text-dark-emphasis">–ò–∑–º–µ–Ω–∏—Ç—å –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</span>
                      <div class="text-center">
                        <small class="d-none d-sm-inline d-md-none h4 text-dark-emphasis">–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</small>
                        <small class="d-inline d-sm-none h4 text-dark-emphasis">–õ–æ–≥–∏–Ω</small>
                      </div>
                    </div>
                    <div class="card-body pt-3 pt-lg-4 pb-4 px-4 px-sm-5">
                      <div class="mb-3 row">
                        <label class="d-none d-md-block col-12 col-lg-4 col-form-label" for="username">
                          –ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
                        </label>
                        <div class="col-12 col-lg-8">
                          <input class="form-control{% if errors.username %} is-invalid{% endif %}" type="text" value="{{ user.username }}" form="username-edit-confirm-form" name="new-username" id="username">
                          <span class="form-text">–¢–æ–ª—å–∫–æ –ª–∞—Ç–∏–Ω—Å–∫–∏–µ –±—É–∫–≤—ã, —Ü–∏—Ñ—Ä—ã –∏ –Ω–∏–∂–Ω–µ–µ –ø–æ–¥—á—ë—Ä–∫–∏–≤–∞–Ω–∏–µ</span>
                          {% if errors.username %}
                            <p class="text-danger small">
                              {% for error in errors.username %}{% if error != '' %}{{ error }}<br>{% endif %}{% endfor %}
                            </p>
                          {% endif %}
                        </div>
                      </div>
                      <a class="offset-0 col-12 offset-md-8 col-md-4 offset-lg-9 col-lg-3 btn btn-primary py-2" data-bs-toggle="modal" data-bs-target="#username-edit-confirm-modal">–ò–∑–º–µ–Ω–∏—Ç—å</a>
                    </div>
                  </div>
                  <div class="card bg-primary-subtle mt-5">
                    <div class="card-header pt-4 pb-4 px-4 px-sm-5">
                      <span class="d-none d-md-inline h3 text-dark-emphasis">–ò–∑–º–µ–Ω–∏—Ç—å –∞–¥—Ä–µ—Å —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω–æ–π –ø–æ—á—Ç—ã</span>
                      <div class="text-center">
                        <small class="d-inline d-md-none h4 text-dark-emphasis">–ü–æ—á—Ç–∞</small>
                      </div>
                    </div>
                    <div class="card-body pt-3 pt-lg-4 pb-4 px-4 px-sm-5">
                      <div class="mb-3 row">
                        <label class="d-none d-md-block col-12 col-lg-4 col-form-label" for="email">
                          –≠–ª–µ–∫—Ç—Ä–æ–Ω–Ω–∞—è –ø–æ—á—Ç–∞
                        </label>
                        <div class="col-12 col-lg-8">
                          <input class="form-control" type="email" value="{{ user.email }}" form="email-edit-confirm-form" name="new-email" id="email">
                          <span class="form-text">–ù–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Ä–µ–∫–ª–∞–º—ã –∏ —Ä–∞—Å—Å—ã–ª–æ–∫</span>
                          {% if errors.email %}
                            <p class="text-danger small">
                              {% for error in errors.email %}{% if error != '' %}{{ error }}<br>{% endif %}{% endfor %}
                            </p>
                          {% endif %}
                        </div>
                      </div>
                      <a class="offset-0 col-12 offset-md-8 col-md-4 offset-lg-9 col-lg-3 btn btn-primary py-2" data-bs-toggle="modal" data-bs-target="#email-edit-confirm-modal">–ò–∑–º–µ–Ω–∏—Ç—å</a>
                    </div>
                  </div>
                </div>
                <div class="tab-pane fade py-5 px-4 px-sm-0 px-md-5 mx-0 mx-md-0 mx-lg-4 mx-xl-5{% if tab == 2 %} active show{% endif %}" id="pills-security" role="tabpanel" aria-labelledby="pills-security-tab" tabindex="0">
                  <div class="container-fluid overflow-auto">
                    <div class="card bg-primary-subtle">
                      <input type="hidden" name="action" value="edit-password">
                      <div class="card-header pt-4 pb-4 px-4 px-sm-5">
                        <span class="d-none d-md-inline h3 text-dark-emphasis">–ò–∑–º–µ–Ω–∏—Ç—å –ø–∞—Ä–æ–ª—å</span>
                        <div class="text-center">
                          <small class="d-inline d-md-none h4 text-dark-emphasis">–ü–∞—Ä–æ–ª—å</small>
                        </div>
                      </div>
                      <div class="card-body pt-3 pt-lg-4 pb-4 px-4 px-sm-5">
                        <div class="my-3 row">
                          <label class="col-12 col-lg-4 col-form-label" for="new-password1">
                            –ù–æ–≤—ã–π –ø–∞—Ä–æ–ª—å
                          </label>
                          <div class="col-12 col-lg-8">
                            <input class="form-control" type="password" autocomplete="new-password" form="password-edit-confirm-form" name="new-password1" id="new-password1">
                            <span class="form-text">–°–æ–¥–µ—Ä–∂–∏—Ç –Ω–µ –º–µ–Ω–µ–µ 8 —Å–∏–º–≤–æ–ª–æ–≤</span>
                            {% if errors.password %}
                              <p class="text-danger small">
                                {% for error in errors.password %}{% if error != '' %}{{ error }}<br>{% endif %}{% endfor %}
                              </p>
                            {% endif %}
                          </div>
                        </div>
                        <div class="mt-3 row">
                          <label class="col-12 col-lg-4 col-form-label" for="new-password2">
                            –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –Ω–æ–≤—ã–π –ø–∞—Ä–æ–ª—å
                          </label>
                          <div class="col-12 col-lg-8">
                            <input class="form-control" type="password" autocomplete="new-password" form="password-edit-confirm-form" name="new-password2" id="new-password2">
                            <span class="form-text">–î–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –≤–≤–µ–¥–∏—Ç–µ –Ω–æ–≤—ã–π –ø–∞—Ä–æ–ª—å –µ—â–µ —Ä–∞–∑</span>
                            {% if errors.password_confirm %}
                              <p class="text-danger small">
                                {% for error in errors.password_confirm %}{% if error != '' %}{{ error }}<br>{% endif %}{% endfor %}
                              </p>
                            {% endif %}
                          </div>
                        </div>
                        <a class="offset-0 col-12 offset-md-8 col-md-4 offset-lg-9 col-lg-3 btn btn-primary py-2 mt-4 mt-md-3" data-bs-toggle="modal" data-bs-target="#password-edit-confirm-modal">–ò–∑–º–µ–Ω–∏—Ç—å</a>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="tab-pane fade py-5 px-4 px-sm-0 px-md-5 mx-0 mx-md-0 mx-lg-4 mx-xl-5{% if tab == 3 %} active show{% endif %}" id="pills-templates" role="tabpanel" aria-labelledby="pills-templates-tab" tabindex="0">
                  <div class="container overflow-auto">
                    <div class="row g-4">
                      {% for template in user.document_templates %}
                        <div class="col-12 col-xl-6">
                          <div class="card rounded-0">
                            <div class="row px-4 pt-3 pb-2">
                              <span class="h4 text-dark mb-0">
                                <a class="link-info" href="{{ template.content.url }}">{{ template.name|default:template.file }}</a>
                              </span>
                              {% if template.description %}
                                <span class="fs-6 fw-semibold text-dark-emphasis">
                                {{ template.description }}
                              </span>
                              {% endif %}
                            </div>
                            <div class="px-1">
                              <div class="accordion accordion-flush" id="tpl{{ template.id }}-fields">
                                <div class="accordion-item">
                                  <h2 class="accordion-header">
                                    <button class="accordion-button bg-white collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#tpl{{ template.id }}-fields-content" aria-expanded="false" aria-controls="tpl{{ template.id }}-fields-content">
                                      –†–∞—Å–∫—Ä—ã—Ç—å –ø–æ–ª—è —à–∞–±–ª–æ–Ω–∞
                                    </button>
                                  </h2>
                                  <div id="tpl{{ template.id }}-fields-content" class="accordion-collapse collapse" data-bs-parent="#tpl{{ template.id }}-fields">
                                    <form method="post" action="{% url 'docreator:create-instance' %}" id="create-document-instance-{{ template.id }}">
                                      {% csrf_token %}
                                      <input type="hidden" name="template-id" value="{{ template.id }}">
                                      <div class="accordion-body">
                                        {% for field in template.fields %}
                                          <div class="form-group-sm px-0 mx-1">
                                            <div class="row">
                                              {% if field.label %}
                                                <label class="col form-label pb-0 mb-0" for="fld{{ field.id }}-preview">{{ field.label }}</label>
                                                <span class="col-auto">{{ field.tag }}</span>
                                              {% else %}
                                                <label class="col-12 ms-auto" for="fld{{ field.id }}-preview">{{ field.tag }}</label>
                                              {% endif %}
                                            </div>
                                            <input class="col-12 form-control-sm border-1 border-opacity-75 py-0{% if not field.label and not field.help_text %} my-1{% endif %}" {{ field.input_attrs }} name="{{ field.name_in_template }}" id="fld{{ field.id }}-preview" value="{{ field.default }}">
                                            {% if field.help_text %}
                                              <span class="col-12 form-text align-text-top small pt-0 mt-0">{{ field.help_text }}</span>
                                            {% endif %}
                                          </div>
                                        {% endfor %}
                                      </div>
                                    </form>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <div class="row p-4 pt-2">
                              <div class="col text-center">
                                <a class="link-danger text-decoration-none cursor-pointer" data-bs-toggle="modal" data-bs-target="#tpl{{ template.id }}-delete-confirm-modal">–£–¥–∞–ª–∏—Ç—å</a>
                              </div>
                              <div class="col text-center">
                                <input class="btn btn-link link-success text-decoration-none cursor-pointer p-0" type="submit" form="create-document-instance-{{ template.id }}" value="–°–æ–∑–¥–∞—Ç—å">
                              </div>
                            </div>
                          </div>
                        </div>
                      {% endfor %}
                    </div>
                  </div>
                </div>
                <div class="tab-pane fade py-5 px-4 px-sm-0 px-md-5 mx-0 mx-md-0 mx-lg-4 mx-xl-5{% if tab == 4 %} active show{% endif %}" id="pills-instances" role="tabpanel" aria-labelledby="pills-instances-tab" tabindex="0">
                  <div class="container overflow-auto">
                    <div class="row g-4">
                      {% for instance in user.document_instances %}
                        <div class="col-12 col-xl-6">
                          <div class="card rounded-0">
                            <div class="row px-4 pt-3 pb-2">
                              <span class="h4 text-dark mb-0">
                                <a class="link-info text-decoration-none">{{ instance }}</a>
                              </span>
                            </div>
                            <div class="px-1">
                              <div class="accordion accordion-flush" id="tpl{{ template.id }}-fields">
                                <div class="accordion-item">
                                  <h2 class="accordion-header">
                                    <button class="accordion-button bg-white collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#ins{{ instance.id }}-values-content" aria-expanded="false" aria-controls="ins{{ instance.id }}-values-content">
                                      –†–∞—Å–∫—Ä—ã—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è —ç–∫–∑–µ–º–ø–ª—è—Ä–∞
                                    </button>
                                  </h2>
                                  <div id="ins{{ instance.id }}-values-content" class="accordion-collapse collapse" data-bs-parent="#ins{{ instance.id }}-values">
                                    <div class="accordion-body">
                                      {% for value in instance.values %}
                                        {% with field=value.field %}
                                          <div class="form-group-sm px-0 mx-1">
                                            <div class="row">
                                              {% if field.label %}
                                                <label class="col form-label pb-0 mb-0" for="fld{{ field.id }}-preview">{{ field.label }}</label>
                                                <span class="col-auto">{{ field.tag }}</span>
                                              {% else %}
                                                <label class="col-12 ms-auto" for="fld{{ field.id }}-preview">{{ field.tag }}</label>
                                              {% endif %}
                                            </div>
                                            <span class="col-12 py-0{% if not field.label and not field.help_text %} my-1{% endif %}">{{ value.value }}</span>
                                          </div>
                                        {% endwith %}
                                      {% endfor %}
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <div class="row p-4 pt-2">
                              <div class="col text-center">
                                <a class="link-danger text-decoration-none cursor-pointer" data-bs-toggle="modal" data-bs-target="#ins{{ instance.id }}-delete-confirm-modal">–£–¥–∞–ª–∏—Ç—å</a>
                              </div>
                              <div class="col text-center">
                                <a class="link-info text-decoration-none cursor-pointer p-0" href="{{ instance.content.url }}">C–∫–∞—á–∞—Ç—å</a>
                              </div>
                            </div>
                          </div>
                        </div>
                      {% endfor %}
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    {% endwith %}
  {% else %}
    <div class="container px-2 px-lg-5 pt-3">
      <div class="text-center align-text-bottom">
        <h3>
          –ß—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å –ø—Ä–æ—Ñ–∏–ª—å, <a class="link-primary text-decoration-none" href="{% url 'users:sign-in' %}">–≤–æ–π–¥–∏—Ç–µ</a>
          –∏–ª–∏ <a class="link-primary text-decoration-none" href="{% url 'users:sign-up' %}">–∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å</a>.
        </h3>
      </div>
    </div>
  {% endif %}
{% endblock %}

{% block modal %}
  {{ block.super }}
  <div class="modal fade" id="username-edit-confirm-modal" tabindex="-1" aria-labelledby="username-edit-confirm-modal-label" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable modal-fullscreen-sm-down">
      <div class="modal-content">
        <form method="post" id="username-edit-confirm-form" novalidate>
          {% csrf_token %}
          <div class="modal-header bg-info-subtle">
            <h1 class="modal-title fs-5" id="username-edit-confirm-modal-label">–ò–∑–º–µ–Ω–∏—Ç—å –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</h1>
            <button class="btn-close" type="button" data-bs-dismiss="modal" aria-label="–ó–∞–∫—Ä—ã—Ç—å"></button>
          </div>
          <div class="modal-body">
            <span>–ß—Ç–æ–±—ã –∏–∑–º–µ–Ω–∏—Ç—å –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –≤–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—É—â–∏–π –ø–∞—Ä–æ–ª—å</span>
            <div class="my-3 row">
              <label class="col-12 col-lg-4 col-form-label" for="username-password-confirm">
                –ü–∞—Ä–æ–ª—å
              </label>
              <div class="col-12 col-lg-8">
                <input class="form-control" type="password" autocomplete="new-password" id="username-password-confirm" name="password-confirm">
              </div>
            </div>
          </div>
          <div class="modal-footer">
            <button class="btn btn-outline-danger" type="button" data-bs-dismiss="modal">–û—Ç–º–µ–Ω–∞</button>
            <input class="btn btn-primary" type="submit" value="–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å">
          </div>
        </form>
      </div>
    </div>
  </div>
  <div class="modal fade" id="email-edit-confirm-modal" tabindex="-1" aria-labelledby="email-edit-confirm-modal-label" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable modal-fullscreen-sm-down">
      <div class="modal-content">
        <form method="post" id="email-edit-confirm-form" novalidate>
          {% csrf_token %}
          <div class="modal-header bg-info-subtle">
            <h1 class="modal-title fs-5" id="email-edit-confirm-modal-label">–ò–∑–º–µ–Ω–∏—Ç—å –∞–¥—Ä–µ—Å —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω–æ–π –ø–æ—á—Ç—ã</h1>
            <button class="btn-close" type="button" data-bs-dismiss="modal" aria-label="–ó–∞–∫—Ä—ã—Ç—å"></button>
          </div>
          <div class="modal-body">
            <span>–ß—Ç–æ–±—ã –∏–∑–º–µ–Ω–∏—Ç—å –∞–¥—Ä–µ—Å —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω–æ–π –ø–æ—á—Ç—ã, –≤–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—É—â–∏–π –ø–∞—Ä–æ–ª—å</span>
            <div class="my-3 row">
              <label class="col-12 col-lg-4 col-form-label" for="email-password-confirm">
                –ü–∞—Ä–æ–ª—å
              </label>
              <div class="col-12 col-lg-8">
                <input class="form-control" type="password" autocomplete="new-password" id="email-password-confirm" name="password-confirm">
              </div>
            </div>
          </div>
          <div class="modal-footer">
            <button class="btn btn-outline-danger" type="button" data-bs-dismiss="modal">–û—Ç–º–µ–Ω–∞</button>
            <input class="btn btn-primary" type="submit" value="–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å">
          </div>
        </form>
      </div>
    </div>
  </div>
  <div class="modal fade" id="password-edit-confirm-modal" tabindex="-1" aria-labelledby="password-edit-confirm-modal-label" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable modal-fullscreen-sm-down">
      <div class="modal-content">
        <form method="post" id="password-edit-confirm-form" novalidate>
          {% csrf_token %}
          <div class="modal-header bg-info-subtle">
            <h1 class="modal-title fs-5" id="password-edit-confirm-modal-label">–ò–∑–º–µ–Ω–∏—Ç—å –ø–∞—Ä–æ–ª—å</h1>
            <button class="btn-close" type="button" data-bs-dismiss="modal" aria-label="–ó–∞–∫—Ä—ã—Ç—å"></button>
          </div>
          <div class="modal-body">
            <span>–ß—Ç–æ–±—ã —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –Ω–æ–≤—ã–π –ø–∞—Ä–æ–ª—å, –≤–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—É—â–∏–π</span>
            <div class="my-3 row">
              <label class="col-12 col-lg-4 col-form-label" for="new-password-confirm">
                –ü–∞—Ä–æ–ª—å
              </label>
              <div class="col-12 col-lg-8">
                <input class="form-control" type="password" autocomplete="new-password" id="new-password-confirm" name="password-confirm">
              </div>
            </div>
          </div>
          <div class="modal-footer">
            <button class="btn btn-outline-danger" type="button" data-bs-dismiss="modal">–û—Ç–º–µ–Ω–∞</button>
            <input class="btn btn-primary" type="submit" value="–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å">
          </div>
        </form>
      </div>
    </div>
  </div>
  {% for template in user.document_templates %}
    <div class="modal fade" id="tpl{{ template.id }}-delete-confirm-modal" tabindex="-1" aria-labelledby="tpl{{ template.id }}-delete-confirm-modal-label" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable modal-fullscreen-sm-down">
        <div class="modal-content">
          <form method="post" action="{% url 'docreator:delete-template' %}" id="tpl{{ template.id }}-delete-confirm-form" novalidate>
            {% csrf_token %}
            <div class="modal-header bg-info-subtle">
              <h1 class="modal-title fs-5" id="tpl{{ template.id }}-delete-confirm-modal-label">–£–¥–∞–ª–∏—Ç—å —à–∞–±–ª–æ–Ω {{ template.safe_name }}</h1>
              <button class="btn-close" type="button" data-bs-dismiss="modal" aria-label="–ó–∞–∫—Ä—ã—Ç—å"></button>
            </div>
            <div class="modal-body">
            <span>
              <span class="text-danger fs-5">–≠—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ –Ω–µ–æ–±—Ä–∞—Ç–∏–º–æ.</span><br>
              –í—Å–µ —ç–∫–∑–µ–º–ø–ª—è—Ä—ã –¥–∞–Ω–Ω–æ–≥–æ —à–∞–±–ª–æ–Ω–∞ —Ç–∞–∫–∂–µ –±—É–¥—É—Ç —É–¥–∞–ª–µ–Ω—ã. –í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å —à–∞–±–ª–æ–Ω?
            </span>
            </div>
            <div class="modal-footer">
              <button class="btn btn-outline-primary" type="button" data-bs-dismiss="modal">–û—Ç–º–µ–Ω–∞</button>
              <input type="hidden" name="template-id" value="{{ template.id }}">
              <input class="btn btn-danger" type="submit" value="–£–¥–∞–ª–∏—Ç—å">
            </div>
          </form>
        </div>
      </div>
    </div>
  {% endfor %}
  {% for instance in user.document_instances %}
    <div class="modal fade" id="ins{{ instance.id }}-delete-confirm-modal" tabindex="-1" aria-labelledby="ins{{ instance.id }}-delete-confirm-modal-label" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable modal-fullscreen-sm-down">
        <div class="modal-content">
          <form method="post" action="{% url 'docreator:delete-instance' %}" id="ins{{ instance.id }}-delete-confirm-form" novalidate>
            {% csrf_token %}
            <div class="modal-header bg-info-subtle">
              <h1 class="modal-title fs-5" id="ins{{ instance.id }}-delete-confirm-modal-label">–£–¥–∞–ª–∏—Ç—å —ç–∫–∑–µ–º–ø–ª—è—Ä {{ instance.full_name }}</h1>
              <button class="btn-close" type="button" data-bs-dismiss="modal" aria-label="–ó–∞–∫—Ä—ã—Ç—å"></button>
            </div>
            <div class="modal-body">
            <span>
              <span class="text-danger fs-5">–≠—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ –Ω–µ–æ–±—Ä–∞—Ç–∏–º–æ.</span><br>
              –í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å –¥–∞–Ω–Ω—ã–π —à–∞–±–ª–æ–Ω?
            </span>
            </div>
            <div class="modal-footer">
              <button class="btn btn-outline-primary" type="button" data-bs-dismiss="modal">–û—Ç–º–µ–Ω–∞</button>
              <input type="hidden" name="instance-id" value="{{ instance.id }}">
              <input class="btn btn-danger" type="submit" value="–£–¥–∞–ª–∏—Ç—å">
            </div>
          </form>
        </div>
      </div>
    </div>
  {% endfor %}
{% endblock %}